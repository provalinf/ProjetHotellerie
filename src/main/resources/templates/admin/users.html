<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.thymeleaf.org ">
<head lang="fr">
    <title>Panneau utilisateur</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<div th:replace="/frags/header::admin-header"></div>
<form method="POST" action="">
    <h1>Ajouter un nouvel utilisateur</h1>
    <label for="id">N° identifiant *</label>
    <input type="text" id="id" name="id" required="required"/>
    <br/>
    <label for="lastname">Nom *</label>
    <input type="text" id="lastname" name="lastname" maxlength="32" required="required"/>
    <br/>
    <label for="firstname">Prénom *</label>
    <input type="text" id="firstname" name="firstname" maxlength="32" required="required"/>
    <br/>
    <label for="teacherAuth">Enseignant</label>
    <input type="radio" id="teacherAuth" value="TEACHER" name="authority"/>
    <label for="studentAuth">Etudiant</label>
    <input type="radio" id="studentAuth" value="STUDENT" name="authority" checked="checked"/>
    <input type='submit' name="Ajouter"/>
</form>
<div th:if="${!teachers.isEmpty()}">
<hr/>
<table>
    <caption>Enseignants</caption>
    <thead>
    <tr>
        <th>N° enseignant</th>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Supprimer</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="teacher: ${teachers}" th:object="${teacher}">
        <td><a th:text="*{id}" th:href="@{/admin/teacher/} + *{id}"></a></td>
        <td th:text="*{lastname}"></td>
        <td th:text="*{firstname}"></td>
        <td><a th:text="X" th:href="@{/admin/teacher/} + *{id} + '/delete'"></a></td>
    </tr>
    </tbody>
</table>
</div>
<hr th:if="${!teachers.isEmpty() || !students.isEmpty()}"/>
<div th:if="${!students.isEmpty()}">
<table>
    <caption>Etudiants</caption>
    <thead>
    <tr>
        <th>N° étudiant</th>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Supprimer</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="student: ${students}" th:object="${student}">
        <td><a th:text="*{id}" th:href="@{/admin/student/} + *{id}"></a></td>
        <td th:text="*{lastname}"></td>
        <td th:text="*{firstname}"></td>
        <td><a th:text="X" th:href="@{/admin/student/} + *{id} + '/delete'"></a></td>
    </tr>
    </tbody>
</table>
<hr/>
</div>
</body>
</html>