<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.thymeleaf.org ">
<head lang="fr">
    <title>Panneau utilisateur</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<header th:replace="/frags/header::admin-header"></header>
<h1>Ajouter un nouvel utilisateur</h1>
<form th:replace="/frags/form::user-form"></form>
<hr/>
<table>
    <caption>Utilisateurs</caption>
    <thead>
    <tr>
        <th>Identifiant national</th>
        <th>Nom</th>
        <th>Prénom</th>
        <th>Identifiant</th>
        <th>Rôle</th>
        <th>Supprimer</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="user: ${users}" th:object="${user}">
        <td><a th:text="*{id}" th:href="@{/admin/user/} + *{id}"></a></td>
        <td th:text="*{lastname}"></td>
        <td th:text="*{firstname}"></td>
        <td th:text="*{username}"></td>
        <td th:with="role=${user instanceof T(m2.info.models.user.Teacher) ? 'Enseignant' : 'Etudiant'}" th:text="${role}"></td>
        <td><a th:href="@{/admin/user/} + *{id} + '/delete'">X</a></td>
    </tr>
    </tbody>
</table>
<hr/>
</body>
</html>